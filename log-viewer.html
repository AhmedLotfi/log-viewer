<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serilog Log Viewer Pro</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/reports.css">
</head>

<body class="theme-dark">
    <div class="container">
        <div class="header">
            <h1>
                <span>Log Viewer Pro</span>
                <div class="theme-toggle">
                    <button class="theme-btn dark active" data-theme="dark" title="Dark Theme"></button>
                    <button class="theme-btn light" data-theme="light" title="Light Theme"></button>
                    <button class="theme-btn blue" data-theme="blue" title="Blue Theme"></button>
                </div>
            </h1>
            <div class="controls">
                <div class="controls-row">
                    <div class="file-input-wrapper">
                        <label for="fileInput" class="btn btn-primary">Load Log Files</label>
                        <input type="file" id="fileInput" accept=".txt,.log" multiple>
                    </div>
                    <input type="text" id="searchBox" class="search-box" placeholder="Search...">
                    <div class="filter-group">
                        <button class="filter-btn filter-debug active" data-level="debug"
                            title="Debug Level">DBG</button>
                        <button class="filter-btn filter-info active" data-level="information"
                            title="Information Level">INF</button>
                        <button class="filter-btn filter-warning active" data-level="warning"
                            title="Warning Level">WRN</button>
                        <button class="filter-btn filter-error active" data-level="error"
                            title="Error Level">ERR</button>
                    </div>
                </div>
                <div class="controls-row">
                    <div class="date-filter">
                        <label for="dateFrom">From:</label>
                        <input type="datetime-local" id="dateFrom" class="date-input"
                            title="Filter logs from this date/time">
                        <label for="dateTo">To:</label>
                        <input type="datetime-local" id="dateTo" class="date-input"
                            title="Filter logs until this date/time">
                        <button class="btn btn-secondary" id="clearDateBtn">Clear</button>
                    </div>
                    <select id="pageSize" class="date-input" title="Number of logs per page">
                        <option value="50">50/page</option>
                        <option value="100" selected>100/page</option>
                        <option value="200">200/page</option>
                        <option value="500">500/page</option>
                    </select>
                    <button class="btn btn-success" id="exportBtn">Export</button>
                    <button class="btn btn-danger" id="clearBtn">Clear</button>
                    <button class="btn btn-primary" id="reportsBtn">ðŸ“Š Reports</button>
                </div>
            </div>
            <div class="stats-container">
                <div class="stats-card">
                    <div class="stat-label">Files</div>
                    <div class="stat-value" id="fileCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Total</div>
                    <div class="stat-value" id="totalCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Visible</div>
                    <div class="stat-value" id="visibleCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Debug</div>
                    <div class="stat-value" id="debugCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Info</div>
                    <div class="stat-value" id="infoCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Warnings</div>
                    <div class="stat-value" id="warningCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Errors</div>
                    <div class="stat-value" id="errorCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">API Calls</div>
                    <div class="stat-value" id="apiCallCount">0</div>
                </div>
                <div class="stats-card">
                    <div class="stat-label">Avg Response</div>
                    <div class="stat-value" id="avgResponseTime">0ms</div>
                </div>
            </div>
            <div id="fileList" class="file-list"></div>
        </div>
        <div class="log-container" id="logContainer">
            <div class="empty-state">
                <div class="empty-state-icon">ðŸ“‹</div>
                <h2>No logs loaded</h2>
                <p>Load log files to get started</p>
            </div>
        </div>
        <div class="pagination hidden" id="pagination">
            <button id="firstBtn">First</button>
            <button id="prevBtn">Prev</button>
            <span id="pageInfo">Page 1</span>
            <button id="nextBtn">Next</button>
            <button id="lastBtn">Last</button>
        </div>
    </div>
    <div class="toast" id="toast"></div>
    <div class="loader-overlay" id="loaderOverlay">
        <div class="loader"></div>
        <div class="loader-text">Loading Logs...</div>
        <div class="loader-subtext" id="loaderSubtext">Processing files</div>
    </div>
    <div class="modal" id="logModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Log Details</h2>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-section">
                <div class="modal-section-title">Information</div>
                <div class="modal-info-grid">
                    <div class="modal-info-item">
                        <div class="modal-info-label">Timestamp</div>
                        <div class="modal-info-value" id="modalTimestamp"></div>
                    </div>
                    <div class="modal-info-item">
                        <div class="modal-info-label">Level</div>
                        <div class="modal-info-value" id="modalLevel"></div>
                    </div>
                    <div class="modal-info-item">
                        <div class="modal-info-label">Thread ID / Correlation</div>
                        <div class="modal-info-value" id="modalThread"></div>
                    </div>
                    <div class="modal-info-item">
                        <div class="modal-info-label">Message Length</div>
                        <div class="modal-info-value" id="modalLength"></div>
                    </div>
                </div>
            </div>
            <div class="modal-section">
                <div class="modal-section-title">Message</div>
                <div class="modal-section-content" id="modalMessage"></div>
            </div>
            <div class="modal-section hidden" id="modalExceptionSection">
                <div class="modal-section-title">Exception / Stack Trace</div>
                <div class="modal-exception" id="modalException"></div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-success" id="modalCopy">Copy Full Log</button>
                <button class="btn btn-secondary" id="modalCloseBtn">Close</button>
            </div>
        </div>
    </div>
    <div class="modal reports-modal" id="reportsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ðŸ“Š Analytics & Reports</h2>
                <button class="modal-close" id="reportsClose">&times;</button>
            </div>
            <div id="reportsContent">
                <div class="empty-state">
                    <div class="empty-state-icon">ðŸ“Š</div>
                    <h2>Loading Reports...</h2>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-success" id="exportReportBtn">ðŸ’¾ Export Report</button>
                <button class="btn btn-secondary" id="reportsCloseBtn">Close</button>
            </div>
        </div>
    </div>
    <script src="js/logViewer.js"></script>
</body>

</html>